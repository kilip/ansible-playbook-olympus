---

- name: Configures Nodes
  hosts: all
  tasks:
  - name: configure olympus nodes
    include_role:
      name: runner
    tags: [always]

- name: Converge Olympus Proxy
  hosts: proxy
  tasks:
    - name: configures proxy
      include_role:
        name: squid
      tags: [always]

- name: Converge Olympus Nodes
  hosts: olympus
  tasks:
    - name: configures olympus nodes
      include_role:
        name: zeus
      tags: [always]

- name: Converge Openhab
  hosts: openhab
  tasks:
    - name: configures openhab nodes
      include_role:
        name: openhab
      tags: [always, openhab]

- name: Converge SNMP Nodes
  hosts: snmp
  tasks:
    - name: configures snmp nodes
      include_role:
        name: sbaerlocher.snmp
      tags: [always]
      